# About
This repo tracks my user-level dot-files, also called configuration files.
`chezmoi`, pronounced "shay-moi", manages the files. One of the key features of
`chezmoi` is templating. This allows a single configuration file to be written
for multiple, divergent machines. See the 
[docs](https://www.chezmoi.io/user-guide/manage-machine-to-machine-differences/)
for further details.

## Installation
Install by running:
```
chezmoi init silaswaxter
```

## Tracking installed packages
Installed packages are tracked for each commit. This increases the
reproducibility and documentation for each commit making it easier to revert to
a particular commit.

In order to track the installed packages, scripts were created. The scripts 
query `pacman` and `yay` for explicitly installed packages and update a native
packages and foreign packages list, respectively. The scripts will also parse an
ignore file. This functionality is subject to rework--see [issue]().

### Git Hooks
To ensure tracking on a per-commit basis, a git hook is used. The 
[pre-commit](https://pre-commit.com/) framework manages the git hook.

## Configuration decisions
The following contain information pertaining to the decisions and non-intuititve
portions of my configuration.

### Display scripts
I've found its easiest to setup displays using a GUI, for example, `arandr`, 
rather than direct `xrandr` commands. After the display configuration is
correct, it can be exported as a script and saved to `.screenlayout/`. 
`.screenlayou/auto_display.sh` finds which outputs are connected and calls the 
corresponding display script that was generated by the GUI. This script allows
other programs, for example `i3wm`, to update the display configuration in a
standard way. The script will take care of doing what is 'right'. The specific
mappings and generated scripts will need to be modified on a **per-machine
basis**. 

### Pacwall
`pacwall` generates a kick-ass wallpaper that is an annotated dependency graph 
of the currently installed system packages. It sets the wallpaper using a hook
provided in its configuration. Entities wanting to update the wallpaper should
call pacwall to ensure a single-source-of-truth for the wallpaper setting
process. 

### On-startup programs
`i3wm` manages the startup programs because many display managers, for example,
`lightdm`, do not run any of the traditional x files, for example, `.xinitrc`.

